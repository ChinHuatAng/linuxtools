<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>

   <extension
         point="org.eclipse.ui.editors">
      <editor
            name="Specfile Editor"
            extensions="spec"
            icon="icons/rpm.gif"
            contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor"
            class="org.eclipse.linuxtools.rpm.ui.editor.SpecfileEditor"
            id="org.eclipse.linuxtools.rpm.ui.editor.SpecfileEditor">
      </editor>
   </extension>
   
   <extension
	   id="specfileerror"
	   point="org.eclipse.core.resources.markers"
	   name="Specfile Error Marker">
	   <super type="org.eclipse.core.resources.problemmarker"/>
	   <super type="org.eclipse.core.resources.textmarker"/>
	   <persistent value="true"/>
	</extension>
   <extension
         point="org.eclipse.ui.editors.documentProviders">
      <provider
            class="org.eclipse.linuxtools.rpm.ui.editor.SpecfileDocumentProvider"
            id="org.eclipse.linuxtools.rpm.ui.editor.specfileDocumentProvider">
      </provider>
   </extension>
   <extension
         point="org.eclipse.linuxtools.changelog.core.parserContribution">
      <parser
            class="org.eclipse.linuxtools.rpm.ui.editor.actions.SpecfileChangelogParser"
            editor="SpecfileEditor"
            name="SpecfileChangelogParser"/>
   </extension>
   <extension
         point="org.eclipse.linuxtools.changelog.core.formatterContribution">
      <formatter
            class="org.eclipse.linuxtools.rpm.ui.editor.actions.SpecfileChangelogFormatter"
            id="org.eclipse.linuxtools.rpm.ui.editor.actions.specfilechangelogformatter"
            inFile="true"
            name="SpecfileChangelogFormatter">
         <filePattern pattern=".*\.spec"/>
      </formatter>
   </extension>
   
   <!-- Editor actions and key binding -->
   <extension
         id="org.eclipse.linuxtools.rpm.ui.editor.popupMenu"
         point="org.eclipse.ui.popupMenus">
      <viewerContribution
            id="org.eclipse.linuxtools.rpm.ui.editor.viewerContribution"
            targetID="#TextEditorContext">
         <action
               class="org.eclipse.linuxtools.rpm.ui.editor.actions.SpecfileEditorOrganizePatchesActionDelegate"
               id="org.eclipse.linuxtools.rpm.ui.editor.organizePatchesAction"
               label="Organize patches"
               menubarPath="additions"
               tooltip="Organize patches numerically">
         </action>
         <action
               class="org.eclipse.linuxtools.rpm.ui.editor.actions.SpecfileEditorToggleCommentActionDelegate"
               id="org.eclipse.linuxtools.rpm.ui.editor.toggleCommentAction"
               label="Toggle Comments"
               menubarPath="additions"
               tooltip="Add or Remove Comments"
               definitionId="org.eclipse.linuxtools.specfile.command.comment">
         </action>
      </viewerContribution>
   </extension>   
   <!-- End of Editor actions and key binding -->
   
   <extension
         point="org.eclipse.ui.editors.templates">
      <contextType
            class="org.eclipse.jface.text.templates.TemplateContextType"
            name="preSection"
            id="org.eclipse.linuxtools.rpm.ui.editor.preSection"/>
      <contextType
            class="org.eclipse.jface.text.templates.TemplateContextType"
            name="buildSection"
            id="org.eclipse.linuxtools.rpm.ui.editor.buildSection"/>
      <contextType
            class="org.eclipse.jface.text.templates.TemplateContextType"
            name="preambleSection"
            id="org.eclipse.linuxtools.rpm.ui.editor.preambleSection"/>
      <include file="templates/templates.xml"/>
      <contextType
            class="org.eclipse.jface.text.templates.TemplateContextType"
            id="org.eclipse.linuxtools.rpm.ui.editor.installSection"
            name="fileSection"/>
      <contextType
            class="org.eclipse.jface.text.templates.TemplateContextType"
            id="org.eclipse.linuxtools.rpm.ui.editor.changelogSection"
            name="changelogSection"/>
      <include file="templates/templates.xml"/>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="org.eclipse.linuxtools.rpm.ui.editor.preferences.MainPreferencePage"
            id="org.eclipse.linuxtools.rpm.ui.editor.mainpage"
            name="Specfile Editor"/>
      <page
            category="org.eclipse.linuxtools.rpm.ui.editor.mainpage"
            class="org.eclipse.linuxtools.rpm.ui.editor.preferences.RpmProposalsPreferencePage"
            id="org.eclipse.linuxtools.rpm.ui.editor.preferences.RpmProposalsPreferencePage"
            name="RPM Completions"/>
      <page
            category="org.eclipse.linuxtools.rpm.ui.editor.mainpage"
            class="org.eclipse.linuxtools.rpm.ui.editor.preferences.MacroProposalsPreferencePage"
            id="org.eclipse.linuxtools.rpm.ui.editor.preferences.MacroProposalsPreferencePage"
            name="Macro Completion"/>
      <page
            category="org.eclipse.linuxtools.rpm.ui.editor.mainpage"
            class="org.eclipse.linuxtools.rpm.ui.editor.preferences.SpecTemplatePreferencePage"
            id="org.eclipse.linuxtools.rpm.ui.editor.preferences.SpecTemplatePreferencePage"
            name="Templates"/>
      <page
            category="org.eclipse.linuxtools.rpm.ui.editor.preferences.RpmProposalsPreferencePage"
            class="org.eclipse.linuxtools.rpm.ui.editor.preferences.RpmInformationsPreferencePage"
            id="org.eclipse.linuxtools.rpm.ui.editor.preferences.RpmInformationsPreferencePage"
            name="Package Information"/>
   </extension>

   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer class="org.eclipse.linuxtools.rpm.ui.editor.preferences.PreferenceInitializer"/>
   </extension>
   
   <extension
         point="org.eclipse.ui.editors.markerAnnotationSpecification">
      <specification
            annotationType="org.eclipse.linuxtools.rpm.ui.editor.highlightannotation"
            verticalRulerPreferenceKey="highlight.rulers.vertical"
            textPreferenceKey="highlight.text"
            colorPreferenceKey="highlight.color"
            highlightPreferenceKey="highlight.background"
            textPreferenceValue="false"
            textStylePreferenceValue="UNDERLINE"
            overviewRulerPreferenceKey="highlight.rulers.overview"
            presentationLayer="4"
            highlightPreferenceValue="true"
            label="Macro"
            icon="icons/occurrence_obj.gif"
            colorPreferenceValue="253,255,155"
            verticalRulerPreferenceValue="true"
            overviewRulerPreferenceValue="true"
            textStylePreferenceKey="highlight.text.style">
      </specification>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="org.eclipse.linuxtools.rpm.ui.editor"
            name="RPM Wizards">
      </category>
      <wizard
            category="org.eclipse.linuxtools.rpm.ui.editor"
            class="org.eclipse.linuxtools.rpm.ui.editor.wizards.SpecfileNewWizard"
            icon="icons/rpm.gif"
            id="org.eclipse.linuxtools.rpm.ui.editor.wizards.SpecfileNewWizard"
            name="New specfile based on a template">
      </wizard>
   </extension>
</plugin>
