<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

    <extension-point id="parserContribution" 
    	name="Changelog Language Parser Contribution" 
    	schema="schema/parserContribution.exsd"/>
    <extension-point id="formatterContribution" name="Changelog Format Contribution" schema="schema/formatterContribution.exsd"/>
    <extension-point id="editorContribution" name="ChangeLog Editor Contribution" schema="schema/editorContribution.exsd"/>
    <extension-point id="locationContribution" name="ChangeLog location contribution" schema="schema/locationContribution.exsd"/>   
 
    <extension
  		point="org.eclipse.ui.commands">
		
		<category
			name="Changelog"
			description="Changelog key bindings"
			id="com.redhat.changelog">
		</category>

		<command
        categoryId="com.redhat.changelog"
        description="%insertCLEntryDesc"
        id="com.redhat.eclipse.changelog.core.actions.KeyActionCommand"
        name="%insertCLEntry">
		</command>
  <command
        categoryId="com.redhat.changelog"
        description="Prepares Changelog"
        id="com.redhat.eclipse.changelog.core.preparechangelog"
        name="Prepare Changelog"/>
  <command
        categoryId="com.redhat.changelog"
        description="Copies latest changelog entry to clipboard"
        id="com.redhat.eclipse.changelog.core.prepareCommit"
        name="Prepare Commit"/>
  <command
        categoryId="com.redhat.changelog"
        description="Formats ChangeLog"
        id="com.redhat.eclipse.changelog.core.formatChangeLog"
        name="Format ChangeLog"/>
	</extension>
	
	 <!-- Actions -->	
	<extension point="org.eclipse.ui.actionSets">
 		<actionSet label="%clActionSet" visible="true" id="com.redhat.eclipse.changelog.actionSet">
        	<action
            	definitionId="com.redhat.eclipse.changelog.core.actions.KeyActionCommand"
				label="%clEntry"
				class="org.eclipse.linuxtools.changelog.core.actions.InsertChangeLogKeyHandler"
				tooltip="%clEntry"
				menubarPath="edit/"
				id="com.redhat.eclipse.changelog.core.actions.KeyAction">
 			</action>
		</actionSet>
	</extension>
       
	<extension point = "org.eclipse.ui.preferencePages">
		<page 
			id="com.redhat.eclipse.changelog.core.Page1"
			class="org.eclipse.linuxtools.changelog.core.ChangeLogPreferencesPage"
			name="%prefTitle">
       	</page>
	</extension>
   		
	<extension point="org.eclipse.linuxtools.changelog.core.parserContribution">
		<parser
			name="%javaParser"
			class="org.eclipse.linuxtools.changelog.core.parsers.JavaParser"            	
			editor="CompilationUnitEditor">
		</parser>
		<parser
			name="%cParser"
			class="org.eclipse.linuxtools.changelog.core.parsers.CParser"
			editor="CEditor"> 
 		</parser>
 		<parser
			name="%compareParser"
			class="org.eclipse.linuxtools.changelog.core.parsers.CompareParser"
			editor="CompareEditor">
 		</parser>
	</extension>

    <extension
        point="org.eclipse.linuxtools.changelog.core.formatterContribution">
        <formatter
              inFile="false"
              class="org.eclipse.linuxtools.changelog.core.formatters.GNUFormat"
              id="com.redhat.eclipse.changelog.GNUFormat"
              name="%gnuFormatter">
              <fileName name="ChangeLog" />  
        </formatter>        
  </extension>
    <extension
          point="org.eclipse.ui.editors">
       <editor
             class="org.eclipse.linuxtools.changelog.core.editors.ChangeLogEditor"
             default="true"
             filenames="ChangeLog"
             icon="icons/file_obj.gif"
             id="com.redhat.eclipse.changelog.core.editor6"
             name="ChangeLog Editor"/>
    </extension>
    <extension
          point="org.eclipse.linuxtools.changelog.core.editorContribution">
       <editor
             class="org.eclipse.linuxtools.changelog.core.editors.GNUEditorConfiguration"
             id="com.redhat.eclipse.changelog.core.gnueditor"
             name="GNU Editor"/>
    </extension>
    <extension
          point="org.eclipse.ui.navigator.viewer">
       <viewerActionBinding viewerId="org.eclipse.team.cvs.ui.workspaceSynchronization">
          <includes>
             <actionExtension pattern="com.redhat.eclipse.changelog.core.ui.ChangeLogActioniProvider"/>
          </includes>
       </viewerActionBinding>
    </extension>
    <extension
          point="org.eclipse.ui.navigator.navigatorContent">
       <actionProvider
             class="org.eclipse.linuxtools.changelog.core.ui.ChangeLogActionProvider"
             id="com.redhat.eclipse.changelog.core.ui.ChangeLogActioniProvider">
          <enablement>
             <adapt type="org.eclipse.core.resources.mapping.ResourceMapping"/>
          </enablement>
       </actionProvider>
    </extension>
    <extension
          point="org.eclipse.ui.bindings">
       <key
             commandId="com.redhat.eclipse.changelog.core.actions.KeyActionCommand"
             contextId="org.eclipse.ui.textEditorScope"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="Ctrl+Alt+C"/>
       <scheme
             id="com.redhat.changelog.keyscheme.default"
             name="default"/>
       <key
             commandId="com.redhat.eclipse.changelog.core.preparechangelog"
             contextId="org.eclipse.ui.contexts.window"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="Ctrl+Alt+P"/>
       <key
             commandId="com.redhat.eclipse.changelog.core.prepareCommit"
             contextId="org.eclipse.ui.textEditorScope"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="Ctrl+Alt+V"/>
       <key
             commandId="com.redhat.eclipse.changelog.core.formatChangeLog"
             contextId="org.eclipse.ui.textEditorScope"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="ESC Ctrl+F"/>
    </extension>
    <extension
          point="org.eclipse.ui.handlers">
       <handler
             class="org.eclipse.linuxtools.changelog.core.actions.PrepareChangelogKeyHandler"
             commandId="com.redhat.eclipse.changelog.core.preparechangelog"/>
       <handler
             class="org.eclipse.linuxtools.changelog.core.actions.InsertChangeLogKeyHandler"
             commandId="com.redhat.eclipse.changelog.core.actions.KeyActionCommand"/>
       <handler
             class="org.eclipse.linuxtools.changelog.core.actions.PrepareCommitHandler"
             commandId="com.redhat.eclipse.changelog.core.prepareCommit"/>
       <handler
             class="org.eclipse.linuxtools.changelog.core.actions.FormatChangeLogAction"
             commandId="com.redhat.eclipse.changelog.core.formatChangeLog"/>
    </extension>
</plugin>
