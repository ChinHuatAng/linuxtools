<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         id="org.eclipse.linuxtools.lttng.ui.perspective"
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.eclipse.linuxtools.lttng.ui.views.PerspectiveFactory"
            icon="icons/obj16/garland16.png"
            id="org.eclipse.linuxtools.lttng.ui.perspective"
            name="%perspective.category.name">
      </perspective>
   </extension>
   <extension
         id="org.eclipse.linuxtools.lttng.ui.views"
         point="org.eclipse.ui.views">
      <category
            id="org.eclipse.linuxtools.lttng.ui.views.category"
            name="%views.category.name">
      </category>
      <view
            allowMultiple="false"
            category="org.eclipse.linuxtools.lttng.ui.views.category"
            class="org.eclipse.linuxtools.lttng.ui.views.control.ControlView"
            icon="icons/eview16/control_view.gif"
            id="org.eclipse.linuxtools.lttng.ui.views.control"
            name="%control.view.name"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            category="org.eclipse.linuxtools.lttng.ui.views.category"
            class="org.eclipse.linuxtools.lttng.ui.views.timeframe.TimeFrameView"
            icon="icons/eview16/time_frame_view.gif"
            id="org.eclipse.linuxtools.lttng.ui.views.timeframe"
            name="%timeframe.view.name"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            category="org.eclipse.linuxtools.lttng.ui.views.category"
            class="org.eclipse.linuxtools.lttng.ui.views.controlflow.ControlFlowView"
            icon="icons/eview16/control_flow_view.gif"
            id="org.eclipse.linuxtools.lttng.ui.views.controlflow"
            name="%controlflow.view.name"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            category="org.eclipse.linuxtools.lttng.ui.views.category"
            class="org.eclipse.linuxtools.lttng.ui.views.resources.ResourcesView"
            icon="icons/eview16/resources_view.gif"
            id="org.eclipse.linuxtools.lttng.ui.views.resources"
            name="%resources.view.name"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            category="org.eclipse.linuxtools.lttng.ui.views.category"
            class="org.eclipse.linuxtools.lttng.ui.views.statistics.StatisticsView"
            icon="icons/eview16/statistics_view.gif"
            id="org.eclipse.linuxtools.lttng.ui.views.statistics"
            name="%statistics.view.name"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            category="org.eclipse.linuxtools.lttng.ui.views.category"
            class="org.eclipse.linuxtools.lttng.ui.views.histogram.HistogramView"
            icon="icons/eview16/histogram.gif"
            id="org.eclipse.linuxtools.lttng.ui.views.histogram"
            name="%histogram.view.name"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            category="org.eclipse.linuxtools.lttng.ui.views.category"
            class="org.eclipse.linuxtools.lttng.ui.views.latency.LatencyView"
            icon="icons/eview16/graph.gif"
            id="org.eclipse.linuxtools.lttng.ui.views.latency"
            name="%latency.view.name"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="org.eclipse.linuxtools.lttng.ui.wizards.new"
            name="%wizard.category.name">
      </category>
      <wizard
            category="org.eclipse.linuxtools.lttng.ui.wizards.new"
            class="org.eclipse.linuxtools.lttng.ui.project.dialogs.NewLTTngProjectWizard"
            descriptionImage="icons/obj16/garland16.png"
            finalPerspective="org.eclipse.linuxtools.lttng.ui.perspective"
            icon="icons/obj16/garland16.png"
            id="org.eclipse.linuxtools.lttng.ui.views.ui.wizards.newProject"
            name="%project.new.wizard.name"
            project="true">
         <description>
            %project.new.wizard.description
         </description>
      </wizard>
   </extension>
   <extension
         id="org.eclipse.linuxtools.lttng.LTTngProjectNature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.eclipse.linuxtools.lttng.core.LTTngProjectNature">
         </run>
      </runtime>
   </extension>
   <extension
         id="org.eclipse.linuxtools.lttng.ui.actionSets"
         point="org.eclipse.ui.actionSets">
      <actionSet
            description="%action.set.description"
            id="org.eclipse.linuxtools.lttng.ui.actionSet"
            label="%action.set.label"
            visible="true">
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            description="%commands.control.category.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            name="%commands.control.category">
      </category>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.new.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.newConnection"
            name="%commands.control.new">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.connect.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.connect"
            name="%commands.control.connect">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.disconnect.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.disconnect"
            name="%commands.control.disconnect">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.delete.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.delete"
            name="%commands.control.delete">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.create.session.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.createSession"
            name="%commands.control.create.session">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.destroy.session.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.destroySession"
            name="%commands.control.destroy.session">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.create.channel.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.createChannelOnSession"
            name="%commands.control.create.channel">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.create.channel.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.createChannelOnDomain"
            name="%commands.control.create.channel">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.enable.channel.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.enableChannel"
            name="%commands.control.enable.channel">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.disable.channel.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.disableChannel"
            name="%commands.control.disable.channel">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.start.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.start"
            name="%commands.control.start">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.stop.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.stop"
            name="%commands.control.stop">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.enable.assign.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.assign.event"
            name="%commands.control.enable.event">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.enable.event.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.enable.event"
            name="%commands.control.enable.event">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.disable.event.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.disable.event"
            name="%commands.control.disable.event">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.enable.event.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnChannel"
            name="%commands.control.enable.event">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.enable.eventOnDomain.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnDomain"
            name="%commands.control.enable.eventOnDomain">
      </command>
      <command
            categoryId="org.eclipse.linuxtools.lttng.ui.commands.control.category"
            description="%commands.control.enable.eventOnDomain.description"
            id="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnSession"
            name="%commands.control.enable.eventOnDomain">
      </command>
      
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:org.eclipse.linuxtools.lttng.ui.views.control">
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.newConnection"
               icon="icons/elcl16/target_add.gif"
               label="%commands.control.new"
               style="push">
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.connect"
               icon="icons/elcl16/connect.gif"
               label="%commands.control.connect"
               style="push">
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.disconnect"
               icon="icons/elcl16/disconnect.gif"
               label="%commands.control.disconnect"
               style="push">
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.delete"
               icon="icons/elcl16/target_delete.gif"
               label="%commands.control.delete"
               style="push">
         </command>
         <separator
               name="org.eclipse.linuxtools.lttng.ui.views.control.toolbar.separator1"
               visible="true">
         </separator>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.start"
               icon="icons/elcl16/start_trace.gif"
               label="%commands.control.start"
               style="push">
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.stop"
               icon="icons/elcl16/pause_trace.gif"
               label="%commands.control.stop"
               style="push">
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.destroySession"
               icon="icons/elcl16/delete_trace.gif"
               label="%commands.control.destroy.session"
               style="push">
         </command>
         
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.linuxtools.lttng.ui.views.control">
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.connect"
               icon="icons/elcl16/connect.gif"
               label="%commands.control.connect"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TargetNodeComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.disconnect"
               icon="icons/elcl16/disconnect.gif"
               label="%commands.control.disconnect"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TargetNodeComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.delete"
               icon="icons/elcl16/target_delete.gif"
               label="%commands.control.delete"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TargetNodeComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.createSession"
               icon="icons/elcl16/add_button.gif"
               label="%commands.control.create.session"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionGroup">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.start"
               icon="icons/elcl16/start_trace.gif"
               label="%commands.control.start"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.stop"
               icon="icons/elcl16/pause_trace.gif"
               label="%commands.control.stop"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.destroySession"
               icon="icons/elcl16/delete_trace.gif"
               label="%commands.control.destroy.session"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <separator
               name="org.eclipse.linuxtools.lttng.ui.views.control.popup.separator1"
               visible="true">
         </separator>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.createChannelOnSession"
               icon="icons/elcl16/add_button.gif"
               label="%commands.control.create.channel"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <and>
                     <iterate
                           operator="or">
                        <instanceof
                              value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                        </instanceof>
                     </iterate>
                     <not>
                        <iterate
                              operator="or">
                           <instanceof
                                 value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceDomainComponent">
                           </instanceof>
                        </iterate>
                     </not>
                     <count
                           value="1">
                     </count>
                  </and>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnSession"
               icon="icons/elcl16/edit.gif"
               label="%commands.control.enable.eventOnDomain"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <and>
                     <iterate
                           operator="or">
                        <instanceof
                              value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                        </instanceof>
                     </iterate>
                     <count
                           value="1">
                     </count>
                  </and>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.createChannelOnDomain"
               icon="icons/elcl16/add_button.gif"
               label="%commands.control.create.channel"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <and>
                     <iterate
                           operator="or">
                        <instanceof
                              value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceDomainComponent">
                        </instanceof>
                     </iterate>
                        <not>
                           <iterate
                                 operator="or">
                              <instanceof
                                    value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                              </instanceof>
                           </iterate>
                        </not>
                        <count
                              value="1">
                        </count>
                  </and>
               </with>
               </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnDomain"
               icon="icons/elcl16/edit.gif"
               label="%commands.control.enable.eventOnDomain"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <and>
                     <iterate
                           operator="or">
                        <instanceof
                              value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceDomainComponent">
                        </instanceof>
                     </iterate>
                     <count
                           value="1">
                     </count>
                  </and>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enableChannel"
               icon="icons/elcl16/edit.gif"
               label="%commands.control.enable.channel"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceChannelComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.disableChannel"
               icon="icons/elcl16/edit.gif"
               label="%commands.control.disable.channel"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceChannelComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>

         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.assign.event"
               icon="icons/elcl16/edit.gif"
               label="%commands.control.enable.event"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.BaseEventComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>

         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enable.event"
               icon="icons/elcl16/edit.gif"
               label="%commands.control.enable.event"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceEventComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>

         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.disable.event"
               icon="icons/elcl16/edit.gif"
               label="%commands.control.disable.event"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceEventComponent">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>

         <command
               commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnChannel"
               icon="icons/elcl16/edit.gif"
               label="%commands.control.enable.event"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <and>
                     <iterate
                           operator="or">
                        <instanceof
                              value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceChannelComponent">
                        </instanceof>
                     </iterate>
                     <count
                           value="1">
                     </count>
                  </and>
               </with>
            </visibleWhen>
         </command>



      </menuContribution>
      
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.NewConnectionHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.newConnection">
         <activeWhen>
            <with
                  variable="activePart">
               <instanceof
                     value="org.eclipse.linuxtools.lttng.ui.views.control.ControlView">
               </instanceof>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.ConnectHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.connect">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TargetNodeComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.DisconnectHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.disconnect">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TargetNodeComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.DeleteHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.delete">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TargetNodeComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.CreateSessionHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.createSession">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionGroup">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.DestroySessionHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.destroySession">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.CreateChannelOnSessionHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.createChannelOnSession">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.CreateChannelOnDomainHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.createChannelOnDomain">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceDomainComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.EnableChannelHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enableChannel">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceChannelComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.DisableChannelHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.disableChannel">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceChannelComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.StartHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.start">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>

      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.StopHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.stop">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>

      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.AssignEventHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.assign.event">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.BaseEventComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>

      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.EnableEventHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enable.event">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceEventComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>

      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.DisableEventHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.disable.event">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceEventComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>

      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.EnableEventOnChannelHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnChannel">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceChannelComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>

      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.EnableEventOnDomainHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnDomain">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceDomainComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.linuxtools.lttng.ui.views.control.handlers.EnableEventOnSessionHandler"
            commandId="org.eclipse.linuxtools.lttng.ui.commands.control.enable.eventOnSession">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.linuxtools.lttng.ui.views.control.model.impl.TraceSessionComponent">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
   </extension>

    <!-- ======================================= -->
    <!-- SubSystem Configuration                 -->
    <!-- ======================================= -->
    <extension point="org.eclipse.rse.core.subsystemConfigurations">
        <configuration
              category="users"
              class="org.eclipse.linuxtools.lttng.ui.tracecontrol.subsystems.TraceSubSystemConfiguration"
              description="%lttng.rse.subsystem.config.description"
              icon="icons/obj16/garland16.gif"
              iconlive="icons/obj16/garland16-live.gif"
              id="org.eclipse.linuxtools.lttng.ui.tracecontrol.subsystems.TraceSubSystemConfiguration"
              name="%lttng.rse.subsystem.config.name"
              systemTypeIds="org.eclipse.tm.tcf.rse.systemType"
              vendor="%Bundle-Vendor">
        </configuration>
   </extension>

   <!-- ======================================= -->
   <!-- SubSystem Type Description              -->
   <!-- ======================================= -->
    <extension
          point="org.eclipse.rse.core.systemTypes">
       <systemType
             description="%lttng.rse.subsystem.type.description"
             icon="icons/obj16/systemlttng.gif"
             iconLive="icons/obj16/systemlttng-live.gif"
             id="org.eclipse.linuxtools.lttng.ui.tracecontrol.systemType"
             label="%lttng.rse.subsystem.type.name"
             name="org.eclipse.linuxtools.lttng.ui.tracecontrol.systemType"
             subsystemConfigurationIds="org.eclipse.linuxtools.lttng.ui.tracecontrol.subsystems.TraceSubSystemConfiguration;org.eclipse.tm.tcf.rse.Processes;org.eclipse.tm.tcf.rse.Shells;org.eclipse.tm.tcf.rse.Files;org.eclipse.tm.tcf.rse.Terminals">
       </systemType>
       <systemType
             description="%trace.control.rse.system.type.description"
             icon="icons/obj16/systemlttng2.gif"
             iconLive="icons/obj16/systemlttng2-live.gif"
             id="org.eclipse.linuxtools.lttng.ui.control.systemType"
             label="%trace.control.rse.system.type.name"
             name="org.eclipse.linuxtools.lttng.ui.control.systemType"
             subsystemConfigurationIds="ssh.shells;ssh.files;ssh.terminals;processes.shell.linux">
       </systemType>
    </extension>
     
   <!-- ======================================= -->
   <!-- Remote Object Popup Menu Actions        -->
   <!-- ======================================= -->
   <extension point="org.eclipse.ui.popupMenus">
       <objectContribution
             id="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.deletetrace"
             objectClass="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
          <action
                class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.DeleteTrace"
                enablesFor="*"
                icon="icons/elcl16/delete_trace.gif"
                id="actions.trace.delete"
                label="%action.delete.label"
                menubarPath="additions"
                tooltip="%action.delete.tooltip">
             <enablement>
                <and>
                   <objectClass
                         name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
                   </objectClass>
                   <objectState
                         name="canDelete"
                         value="yes">
                   </objectState>
                </and>
             </enablement>
          </action>
       </objectContribution>
       <objectContribution
             adaptable="false"
             id="org.eclipse.linuxtools.lttng.ui.tracecontrol.importtrace"
             objectClass="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
          <action
                class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.ImportToProject"
                enablesFor="*"
                icon="icons/elcl16/import_trace.gif"
                id="org.eclipse.linuxtools.lttng.ui.tracecontrol.action1"
                label="%action.import.label"
                menubarPath="additions"
                tooltip="%action.import.tooltip">
             <enablement>
                <and>
                   <objectClass
                         name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
                   </objectClass>
                   <objectState
                         name="canImport"
                         value="yes">
                   </objectState>
                </and>
             </enablement>
          </action>
       </objectContribution>
      <objectContribution
               id="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.createnewtrace"
               objectClass="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TargetResource">
            <action
                   label="%action.newtrace.label"
                   tooltip="%action.newtrace.tooltip"
                   icon="icons/elcl16/new_trace.gif"
                   class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.CreateNewTrace"
                   menubarPath="additions"
                   enablesFor="1"
                   id="actions.trace.new">
            <enablement>
             <and>
              <objectClass name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TargetResource"/> 
              <objectState name="canCreateNewTrace" value="yes"/> 
             </and>
            </enablement> 
           </action>
       </objectContribution>
       <objectContribution
               objectClass="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource"
               id="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.configuretrace">
           <action
                   label="%action.configuretrace.label"
                   tooltip="%action.configuretrace.tooltip"
                   icon="icons/elcl16/configure_trace.gif"
                   class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.ConfigureTrace"
                   menubarPath="additions"
                   enablesFor="1"
                   id="actions.trace.configure">
            <enablement>
             <and>
              <objectClass name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource"/> 
              <objectState name="canConfigure" value="yes"/> 
             </and>
            </enablement> 
           </action>
       </objectContribution>
       <objectContribution
             id="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.stoptrace"
             objectClass="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
          <action
                class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.StopTrace"
                enablesFor="*"
                icon="icons/elcl16/stop_trace.gif"
                id="actions.trace.stop"
                label="%action.stop.label"
                menubarPath="additions"
                tooltip="%action.stop.tooltip">
             <enablement>
                <and>
                   <objectClass
                         name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
                   </objectClass>
                   <objectState
                         name="canStop"
                         value="yes">
                   </objectState>
                </and>
             </enablement>
          </action>
       </objectContribution>
       <objectContribution
             id="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.pausetrace"
             objectClass="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
          <action
                class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.PauseTrace"
                enablesFor="*"
                icon="icons/elcl16/pause_trace.gif"
                id="actions.trace.pause"
                label="%action.pause.label"
                menubarPath="additions"
                tooltip="%action.pause.tooltip">
             <enablement>
                <and>
                   <objectClass
                         name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
                   </objectClass>
                   <objectState
                         name="canPause"
                         value="yes">
                   </objectState>
                </and>
             </enablement>
          </action>
       </objectContribution>
       <objectContribution
               objectClass="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource"
               id="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.starttrace">
           <action
                 class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.StartTrace"
                 enablesFor="*"
                 icon="icons/elcl16/start_trace.gif"
                 id="actions.trace.start"
                 label="%action.start.label"
                 menubarPath="additions"
                 tooltip="%action.start.tooltip">
            <enablement>
             <and>
              <objectClass name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource"/> 
              <objectState name="canStart" value="yes"/> 
             </and>
            </enablement> 
           </action>
       </objectContribution>
       
       <objectContribution
               objectClass="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TargetResource"
               id="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.configuremarkers">
           <action
                   label="%action.configuremarkers.label"
                   tooltip="%action.configuremarkers.tooltip"
                   icon="icons/elcl16/configure_markers.gif"
                   class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.ConfigureMarkers"
                   menubarPath="additions"
                   enablesFor="1"
                   id="actions.markers.configure">
           </action>
       </objectContribution>

    </extension>
    
   <!-- ======================================= -->
   <!-- Remote System View Contributions        -->
   <!-- ======================================= -->
   <extension
         point="org.eclipse.ui.viewActions">
         
         
      <viewContribution
            id="org.eclipse.linuxtools.lttng.ui.tracecontrol.viewContribution.stop"
            targetID="org.eclipse.rse.ui.view.systemView">
         <action
               class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.StopTrace"
               enablesFor="*"
               icon="icons/elcl16/stop_trace.gif"
               id="actions.trace.stop"
               label="%action.stop.label"
               menubarPath="additions"
               style="push"
               toolbarPath="additions"
               tooltip="%action.stop.tooltip">
            <enablement>
               <and>
                  <objectClass
                        name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
                  </objectClass>
                  <objectState
                        name="canStop"
                        value="yes">
                  </objectState>
               </and>
            </enablement>
         </action>
      </viewContribution>
      
      <viewContribution
            id="org.eclipse.linuxtools.lttng.ui.tracecontrol.viewContribution.pause"
            targetID="org.eclipse.rse.ui.view.systemView">
         <action
               class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.PauseTrace"
               enablesFor="*"
               icon="icons/elcl16/pause_trace.gif"
               id="actions.trace.pause"
               label="%action.pause.label"
               menubarPath="additions"
               style="push"
               toolbarPath="additions"
               tooltip="%action.pause.tooltip">
             <enablement>
                <and>
                   <objectClass
                         name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
                   </objectClass>
                   <objectState
                         name="canPause"
                         value="yes">
                   </objectState>
                </and>
             </enablement>
         </action>
      </viewContribution>
      
      <viewContribution
            id="org.eclipse.linuxtools.lttng.ui.tracecontrol.viewContribution.start"
            targetID="org.eclipse.rse.ui.view.systemView">
         <action
               class="org.eclipse.linuxtools.lttng.ui.tracecontrol.actions.StartTrace"
               enablesFor="*"
               icon="icons/elcl16/start_trace.gif"
               id="actions.trace.start"
               label="%action.start.label"
               menubarPath="additions"
               style="push"
               toolbarPath="additions"
               tooltip="%action.start.tooltip">
            <enablement>
               <and>
                  <objectClass
                        name="org.eclipse.linuxtools.lttng.core.tracecontrol.model.TraceResource">
                  </objectClass>
                  <objectState
                        name="canStart"
                        value="yes">
                  </objectState>
               </and>
            </enablement>
         </action>
      </viewContribution>
     
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            class="org.eclipse.linuxtools.lttng.ui.project.dialogs.TraceLibraryPathPropertyPage"
            id="org.eclipse.linuxtools.lttng.ui.propertyPage.libPath"
            name="%project.propertyPage.tracelibPath">
         <filter name="nature"
                value="org.eclipse.linuxtools.lttng.LTTngProjectNature" />
            <enabledWhen>
                <adapt type="org.eclipse.core.resources.IProject">
                </adapt>
            </enabledWhen>
      </page>
   </extension>

   <extension
         point="org.eclipse.linuxtools.tmf.tracetype">
      <category
            id="org.eclipse.linuxtools.lttng.ui.category.lttng"
            name="%tracetype.category.lttng">
      </category>
      <type
            category="org.eclipse.linuxtools.lttng.ui.category.lttng"
            event_type="org.eclipse.linuxtools.lttng.core.event.LttngEvent"
            icon="icons/obj16/tux2.png"
            id="org.eclipse.linuxtools.lttng.tracetype.kernel"
            name="%tracetype.type.kernel"
            trace_type="org.eclipse.linuxtools.lttng.core.trace.LTTngTrace">
         <eventsTableType
               class="org.eclipse.linuxtools.lttng.ui.views.events.EventsTable">
         </eventsTableType>
      </type>
   </extension>

</plugin>
